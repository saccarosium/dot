#!/usr/bin/env bash

# mac os
if [[ "$OSTYPE" == "darwin"* ]]; then
  printf '%b\n' "\033[1m""uptating dev tools...""\033[0m"
  softwareupdate --all --install --force

  # homebrew
  printf '%b\n' "\033[1m""updating homebrew...""\033[0m"
  brew update
  brew upgrade --greedy
  printf '%b\n' "\033[1m""cleaning up homebrew...""\033[0m"
  brew autoremove
  brew cleanup

  # cleanup the trash
  printf '%b\n' "\033[1m""cleaning up trash...""\035[0m"
  trash -e
fi

# nvim
printf '%b\n' "\033[1m""updating nvim...""\033[0m"
nvim -c "PaqSync | q!"

# Tex
printf '%b\n' "\033[1m""updating TeX...""\033[0m"
sudo tlmgr update --self --all --reinstall-forcibly-removed

# npm
printf '%b\n' "\033[1m""updating npm""\033[0m"
npm update && rm "$HOME/package-lock.json"
